<form
  data-request-flash
  data-request-loading
  data-request-data="orderid: <?= $orderid ?>"
  data-request="onAddNewOrderItem"
  data-request-complete="$('.modal').modal('hide');"
>
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
      &times;
    </button>
    <h4 class="modal-title">Termék hozzáadása a rendeléshez.</h4>
  </div>
  <div class="modal-body">
    <div class="form-group">
        <label>Termék</label>
        <select class="form-control custom-select" name="product_id" data-request="onRefreshVariants" data-request-before-update="$('#newItemModalVariants').hide()" data-request-complete="$('#newItemModalVariants').show()">
            <?php
            foreach($products as $product) { ?>
            <option value="<?= $product->id ?>"><?= $product->name ?></option>
            <?php } ?>
        </select>
    </div>
    <div id="newItemModalVariants">

    </div>
    <div class="form-group number-field span-full is-required">
        <label>Mennyiség</label>
        <input type="number" name="quantity" value="" class="form-control" />
    </div>
  </div>
  <div class="modal-footer">
    <button type="submit" class="btn btn-warning">
      Hozzáadás
    </button>
    <button type="button" class="btn btn-default" data-dismiss="modal">
      Mégsem
    </button>
  </div>
</form>
